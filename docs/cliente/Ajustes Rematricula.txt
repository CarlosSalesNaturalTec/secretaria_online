20250016
202501070
20210288

Enrollments/Status:
	active		-> Ativo
	completed	-> Conclu√≠do
	reenrollment	-> Rematr√≠cula
	pending		-> Pendente
	canceled	-> Cancelado


Atualizar template de Contrato
Importar Notas
Remover rotina de Rematr√≠cula Geral 
Definir no cadastro de alunos o semestre em que o mesmo est√°
Adicionar novos Enrollment/Status = reenrollment / canceled

Perfil Alunos: 
	Corrigir bug de SOLICITA√á√ïES
	Aluno solicita rematr√≠cula a partir de SOLICITA√á√ïES (semestre = semestre atual do aluno +1)

Perfil Admin:
	Corrigir bug de Controle de Solicita√ß√µes 
	Card de 'Solicita√ß√µes em aberto' 

	Admin Autoriza Solicita√ß√£o de matricula. Ao confirmar/aceitar rematr√≠cula:
		- Enrollments / Status = reenrollment
		- Criar contrato (sem data de aceite) somente em banco de dados

	Index de Alunos:
		especificar: Curso, Status , Semestre
		Filtro por Status 

	Criar rotina de AVISOS:
		Para Alunos, Para alunos do Curso , Para alunos da Turma
		Link para rotinas especificas. Ex: Solicitar rematr√≠cula

Perfil de alunos: 
	Aluno recebe aviso de aceita√ß√£o de matr√≠cula/contrato ao logar (SE status = reenrollment, order by enrollment_data limit 1 (mais recente) )
		- Atualiza semestre do Aluno baseado no contrato
		- status = Active
		- salvar PDF do contrato para download futuro (contendo informa√ß√µes do respectivo semestre e data de aceita√ß√£o)
	
	exibir semestre corrente e status
	exibir eventuais AVISOS gerados pelos Admins

	download de contratos PDF





BOLETIM DE OCORR√äNCIA
GABRIEL - PROJETO IGARAP√â 
AULAS P√≥s Gradua√ß√£o
	Semana 1 - concluir
	Semana 2 - Aula ao vivo / ver se ficou gravada
	Semana 3 - Ter√° aula ao vivo
	Conte√∫dos diversos

Aulas Google 
Curso USP
Cursos Coursera


=======


Perfeito! Agora vou criar um guia completo de como substituir o template de contrato:

  üìã Sistema de Templates de Contratos - Como Substituir

  Como o sistema est√° configurado:

  1. Model ContractTemplate: Armazena templates HTML na tabela contract_templates
  2. Placeholders: Sistema de substitui√ß√£o com formato {{nomePlaceholder}}
  3. Template Atual: "Contrato de Matr√≠cula Padr√£o" (ID: 1, ativo)

  Placeholders Dispon√≠veis no Template Atual:

  {{studentName}}        - Nome do aluno
  {{studentCPF}}         - CPF do aluno
  {{studentEmail}}       - Email do aluno
  {{studentPhone}}       - Telefone do aluno
  {{studentAddress}}     - Endere√ßo do aluno
  {{courseName}}         - Nome do curso
  {{currentSemester}}    - Semestre atual
  {{enrollmentDate}}     - Data da matr√≠cula
  {{courseDuration}}     - Dura√ß√£o total do curso
  {{enrollmentNumber}}   - N√∫mero da matr√≠cula
  {{contractDate}}       - Data do contrato
  {{contractId}}         - ID do contrato
  {{generatedAt}}        - Data/hora de gera√ß√£o

  ---
  Op√ß√£o 1: Atualizar Template Existente (Recomendado)

  Use esta op√ß√£o para substituir o conte√∫do do template atual mantendo o mesmo ID:

  cd backend
  node

  // No console Node.js:
  require('dotenv').config();
  const { ContractTemplate } = require('./src/models');

  // Seu novo HTML (use template literals `` ou leia de arquivo)
  const novoHTML = `<!DOCTYPE html>
  <html lang="pt-BR">
  <head>
      <meta charset="UTF-8">
      <title>Novo Contrato</title>
      <style>
          /* Seus estilos CSS aqui */
          body { font-family: Arial; }
      </style>
  </head>
  <body>
      <h1>CONTRATO DE MATR√çCULA - {{courseName}}</h1>
      <p>Aluno: {{studentName}}</p>
      <p>CPF: {{studentCPF}}</p>
      <!-- Adicione mais campos conforme necess√°rio -->
  </body>
  </html>`;

  // Atualizar template ID 1
  ContractTemplate.update(
    { content: novoHTML },
    { where: { id: 1 } }
  ).then(() => {
    console.log('‚úÖ Template atualizado com sucesso!');
    process.exit(0);
  });

  ---
  Op√ß√£o 2: Criar Novo Template e Desativar o Antigo

  Use esta op√ß√£o se quiser manter hist√≥rico dos templates:

  require('dotenv').config();
  const { ContractTemplate } = require('./src/models');

  const novoHTML = `<!-- Seu HTML aqui -->`;

  // 1. Criar novo template
  ContractTemplate.create({
    name: 'Contrato de Matr√≠cula 2025',
    content: novoHTML,
    is_active: true
  }).then((novoTemplate) => {
    console.log(`‚úÖ Novo template criado! ID: ${novoTemplate.id}`);

    // 2. Desativar template antigo
    return ContractTemplate.update(
      { is_active: false },
      { where: { id: 1 } }
    );
  }).then(() => {
    console.log('‚úÖ Template antigo desativado!');
    process.exit(0);
  });

  ---
  Op√ß√£o 3: Via Script SQL Direto

  Criar arquivo update-template.sql:

  UPDATE contract_templates
  SET content = '<!DOCTYPE html>
  <html lang="pt-BR">
  <head>
      <meta charset="UTF-8">
      <title>Novo Contrato</title>
  </head>
  <body>
      <h1>{{studentName}}</h1>
      <!-- Seu HTML completo aqui -->
  </body>
  </html>',
      updated_at = NOW()
  WHERE id = 1;

  Executar:
  mysql -u seu_usuario -p secretaria_online < update-template.sql

  ---
  Op√ß√£o 4: Criar Migration para Atualiza√ß√£o (Mais Profissional)

  cd backend
  npx sequelize-cli migration:generate --name update-contract-template-2025

  Editar migration criada em backend/database/migrations/:

  'use strict';

  module.exports = {
    async up(queryInterface, Sequelize) {
      const novoHTML = `<!-- Seu HTML completo aqui -->`;

      await queryInterface.sequelize.query(
        `UPDATE contract_templates
         SET content = :content, updated_at = NOW()
         WHERE id = 1;`,
        {
          replacements: { content: novoHTML }
        }
      );

      console.log('‚úÖ Template de contrato atualizado!');
    },

    async down(queryInterface, Sequelize) {
      // Reverter para template anterior se necess√°rio
      console.log('‚ö†Ô∏è  Rollback: Template n√£o revertido automaticamente');
    }
  };

  Executar:
  npm run db:migrate

  ---
  üìù Recomenda√ß√£o de Estrutura HTML

  Ao criar seu novo template, mantenha:

  1. Estrutura HTML v√°lida (DOCTYPE, html, head, body)
  2. CSS inline ou no <style> (evite CSS externo)
  3. Placeholders obrigat√≥rios m√≠nimos:
    - {{studentName}}
    - {{courseName}}
    - {{contractDate}}
  4. Fonte web-safe (Arial, Times New Roman, etc.)
  5. Layout responsivo (se for exibir em tela antes de gerar PDF)

  ---
  üß™ Testar Template Ap√≥s Atualiza√ß√£o

  require('dotenv').config();
  const { ContractTemplate } = require('./src/models');

  ContractTemplate.findByPk(1).then((template) => {
    // Testar substitui√ß√£o de placeholders
    const rendered = template.replacePlaceholders({
      studentName: 'Jo√£o Silva',
      studentCPF: '123.456.789-00',
      courseName: 'Engenharia de Software',
      contractDate: '2025-12-16'
    });

    console.log(rendered); // Ver HTML final

    // Ou salvar em arquivo para visualizar no navegador
    const fs = require('fs');
    fs.writeFileSync('preview.html', rendered);
    console.log('‚úÖ Preview salvo em preview.html');

    process.exit(0);
  });

  ---

