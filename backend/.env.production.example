# ============================================
# Arquivo: backend/.env.production.example
# Descrição: Template de variáveis de ambiente para PRODUÇÃO
# Feature: feat-107 - Criar scripts de build e deploy
# Criado em: 2025-11-05
#
# INSTRUÇÕES:
# 1. Copie este arquivo para .env no servidor
# 2. Preencha com os valores reais de produção
# 3. NUNCA commite o arquivo .env real no Git
# ============================================

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=production
PORT=3000
BASE_URL=https://seu-dominio.com

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=secretaria_online_db
DB_USER=seu_usuario_mysql
DB_PASS=sua_senha_mysql_super_segura

# Pool de conexões (ajuste conforme recursos do servidor)
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# ============================================
# JWT AUTHENTICATION
# ============================================
# IMPORTANTE: Use uma chave forte e única (mínimo 32 caracteres)
# Exemplo de geração: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=SUBSTITUA_POR_UMA_CHAVE_SECRETA_FORTE_MINIMO_32_CARACTERES
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# ============================================
# EMAIL CONFIGURATION (SMTP)
# ============================================
# Hostgator SMTP
SMTP_HOST=smtp.hostgator.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@seu-dominio.com
SMTP_PASS=senha_do_email
SMTP_FROM="Secretaria Online <noreply@seu-dominio.com>"

# Alternativa: Gmail SMTP (caso use Gmail)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=465
# SMTP_SECURE=true
# SMTP_USER=seu-email@gmail.com
# SMTP_PASS=sua_senha_de_app_do_gmail

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
# Tamanho máximo: 10MB (em bytes)
MAX_FILE_SIZE=10485760

# Caminho absoluto no servidor para uploads
UPLOAD_PATH=/home/seu_usuario/api/uploads

# Tipos de arquivo permitidos (separados por vírgula)
ALLOWED_FILE_TYPES=application/pdf,image/jpeg,image/png,image/jpg

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Níveis: error, warn, info, debug
LOG_LEVEL=info

# Caminho para arquivos de log
LOG_PATH=/home/seu_usuario/api/logs

# Rotação de logs (dias)
LOG_MAX_FILES=14

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Rate Limiting (tentativas por janela de tempo)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Rate Limiting para Login (proteção contra brute force)
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_REQUESTS=5

# CORS (origens permitidas - separadas por vírgula)
CORS_ORIGINS=https://seu-dominio.com,https://www.seu-dominio.com

# Helmet (Content Security Policy)
CSP_ENABLED=true

# ============================================
# SESSION CONFIGURATION
# ============================================
SESSION_SECRET=SUBSTITUA_POR_UMA_CHAVE_SECRETA_DIFERENTE_DO_JWT
SESSION_MAX_AGE=86400000

# ============================================
# PDF GENERATION
# ============================================
# Caso use Puppeteer (mais pesado, requer Chrome)
PDF_ENGINE=pdfkit

# Puppeteer (se PDF_ENGINE=puppeteer)
# PUPPETEER_HEADLESS=true
# PUPPETEER_ARGS=--no-sandbox,--disable-setuid-sandbox

# ============================================
# CRON JOBS
# ============================================
# Ativar jobs agendados
CRON_ENABLED=true

# Backup automático do banco de dados (cron expression)
CRON_DB_BACKUP=0 2 * * *

# Limpeza de arquivos temporários (cron expression)
CRON_CLEANUP_TEMP=0 3 * * *

# Renovação automática de contratos (cron expression)
CRON_CONTRACT_RENEWAL=0 0 1 * *

# ============================================
# APPLICATION SETTINGS
# ============================================
# Quantidade de dias para retenção de dados (LGPD)
DATA_RETENTION_DAYS=1825

# Tamanho do salt para bcrypt
BCRYPT_SALT_ROUNDS=10

# ============================================
# MONITORING & DEBUGGING
# ============================================
# Ativar modo debug (não recomendado em produção)
DEBUG=false

# Exibir stack traces em erros (não recomendado em produção)
SHOW_STACK_TRACES=false

# ============================================
# OPTIONAL: THIRD-PARTY INTEGRATIONS
# ============================================
# Caso implemente integrações futuras

# Sentry (monitoramento de erros)
# SENTRY_DSN=https://seu-dsn-do-sentry.ingest.sentry.io/123456

# AWS S3 (armazenamento de arquivos)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=secretaria-online-uploads
