/**
 * Arquivo: backend/.env.example
 * Descrição: Template de variáveis de ambiente para o backend
 * Feature: feat-004 - Configurar variáveis de ambiente
 * Criado em: 2025-10-24
 *
 * IMPORTANTE: Este é um arquivo de exemplo. Copie para .env e preencha com valores reais.
 * NUNCA commite o arquivo .env com credenciais reais no repositório!
 */

# ==============================================================================
# CONFIGURAÇÕES DO SERVIDOR
# ==============================================================================

# Ambiente de execução: 'development', 'production', 'staging'
# Em desenvolvimento, erros detalhados são exibidos. Em produção, mensagens genéricas.
NODE_ENV=development

# Porta em que o servidor Express irá rodar
# Padrão: 3000
# Em produção, pode ser necessário usar porta diferente dependendo do Hostgator
PORT=3000

# URL base da aplicação (usado para gerar links em emails e PDFs)
# Desenvolvimento: http://localhost:3000
# Produção: https://secretariaonline.com
BASE_URL=http://localhost:3000

# ==============================================================================
# CONFIGURAÇÕES DO BANCO DE DADOS (MySQL)
# ==============================================================================

# Host do banco de dados
# Desenvolvimento: localhost
# Produção: geralmente localhost ou IP fornecido pelo Hostgator
DB_HOST=localhost

# Porta do MySQL (padrão: 3306)
DB_PORT=3306

# Nome do banco de dados
# Crie o banco antes de executar as migrations
DB_NAME=secretaria_online

# Usuário do banco de dados
# Em produção, use usuário com permissões mínimas necessárias
DB_USER=root

# Senha do banco de dados
# IMPORTANTE: Use senha forte em produção!
DB_PASSWORD=sua_senha_aqui

# Pool de conexões - Máximo de conexões simultâneas
# Shared hosting geralmente limita a 25-50 conexões
# Ajuste conforme necessário para evitar erros de "too many connections"
DB_POOL_MAX=25

# Pool de conexões - Mínimo de conexões mantidas
DB_POOL_MIN=5

# Timeout de aquisição de conexão (ms)
DB_POOL_ACQUIRE=30000

# Timeout de conexão ociosa (ms)
DB_POOL_IDLE=10000

# ==============================================================================
# CONFIGURAÇÕES DE AUTENTICAÇÃO (JWT)
# ==============================================================================

# Chave secreta para assinar tokens JWT
# IMPORTANTE: Use string aleatória complexa de pelo menos 32 caracteres
# Gere com: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# NUNCA use o valor de exemplo em produção!
JWT_SECRET=sua_chave_secreta_super_complexa_de_pelo_menos_32_caracteres

# Tempo de expiração do Access Token
# Valores aceitos: '15m', '1h', '24h', etc.
# Recomendado: 15 minutos a 1 hora para maior segurança
JWT_ACCESS_EXPIRATION=15m

# Tempo de expiração do Refresh Token
# Valores aceitos: '7d', '30d', etc.
# Recomendado: 7 dias
JWT_REFRESH_EXPIRATION=7d

# ==============================================================================
# CONFIGURAÇÕES DE EMAIL (SMTP)
# ==============================================================================

# Host do servidor SMTP
# Hostgator: smtp.hostgator.com ou mail.seudominio.com
# Gmail: smtp.gmail.com (requer senha de app, não senha da conta)
SMTP_HOST=smtp.hostgator.com

# Porta do servidor SMTP
# 587: STARTTLS (recomendado)
# 465: SSL/TLS
# 25: Não criptografado (não recomendado)
SMTP_PORT=587

# Usar SSL/TLS?
# true para porta 465, false para porta 587
SMTP_SECURE=false

# Usuário SMTP (geralmente o email completo)
SMTP_USER=noreply@seudominio.com

# Senha do email
# Gmail: use senha de app (https://support.google.com/accounts/answer/185833)
# IMPORTANTE: Não use sua senha pessoal!
SMTP_PASS=sua_senha_email_aqui

# Remetente padrão dos emails
# Formato: "Nome <email@dominio.com>"
SMTP_FROM="Secretaria Online <noreply@seudominio.com>"

# ==============================================================================
# CONFIGURAÇÕES DE UPLOAD DE ARQUIVOS
# ==============================================================================

# Tamanho máximo de arquivo em bytes
# 10MB = 10485760 bytes
# Ajuste conforme limitações do servidor
MAX_FILE_SIZE=10485760

# Caminho absoluto para diretório de uploads
# Desenvolvimento: ./uploads (relativo ao backend)
# Produção: caminho absoluto no servidor, ex: /home/usuario/uploads
UPLOAD_PATH=./uploads

# Tipos de arquivo permitidos (separados por vírgula)
# Documentos: PDF, imagens (JPG, JPEG, PNG)
ALLOWED_FILE_TYPES=application/pdf,image/jpeg,image/jpg,image/png

# ==============================================================================
# CONFIGURAÇÕES DE LOGS (Winston)
# ==============================================================================

# Nível de log
# Valores: 'error', 'warn', 'info', 'http', 'debug'
# Desenvolvimento: 'debug' (mais verboso)
# Produção: 'info' ou 'warn' (menos verboso, melhor performance)
LOG_LEVEL=debug

# Caminho para arquivo de logs
# Logs de erro serão salvos em error.log
# Logs gerais serão salvos em combined.log
LOG_PATH=./logs

# ==============================================================================
# CONFIGURAÇÕES DE SEGURANÇA
# ==============================================================================

# Rate Limiting - Máximo de tentativas de login por IP
# Previne ataques de força bruta
# Recomendado: 5 tentativas
RATE_LIMIT_LOGIN_MAX=5

# Rate Limiting - Janela de tempo (em minutos)
# 15 minutos = após 5 tentativas, IP fica bloqueado por 15 minutos
RATE_LIMIT_LOGIN_WINDOW=15

# CORS - Origens permitidas (separadas por vírgula)
# Desenvolvimento: http://localhost:5173 (Vite padrão)
# Produção: https://seudominio.com
# Use * apenas em desenvolvimento (não seguro em produção)
CORS_ORIGIN=http://localhost:5173

# ==============================================================================
# CONFIGURAÇÕES DE GERAÇÃO DE PDF
# ==============================================================================

# Biblioteca de PDF a usar: 'puppeteer' ou 'pdfkit'
# Puppeteer: Mais flexível, renderiza HTML/CSS, mas mais pesado
# PDFKit: Mais leve, gera PDFs programaticamente, recomendado para shared hosting
PDF_LIBRARY=pdfkit

# Caminho para templates de contratos (HTML)
# Usado apenas se PDF_LIBRARY=puppeteer
CONTRACTS_TEMPLATE_PATH=./templates/contracts

# ==============================================================================
# CONFIGURAÇÕES DE CRON JOBS (Tarefas Agendadas)
# ==============================================================================

# Habilitar limpeza automática de arquivos temporários?
# true: Cron job irá limpar arquivos em /uploads/temp/ periodicamente
# false: Limpeza manual
ENABLE_TEMP_CLEANUP=true

# Dias de retenção de arquivos temporários
# Arquivos mais antigos que X dias serão deletados
TEMP_FILES_RETENTION_DAYS=7

# Habilitar renovação automática de contratos?
# true: Contratos de alunos/professores serão renovados automaticamente
# false: Renovação manual
ENABLE_CONTRACT_RENEWAL=true

# ==============================================================================
# CONFIGURAÇÕES ADICIONAIS
# ==============================================================================

# Prefixo das rotas da API
# Exemplo: /api/v1/students, /api/v1/auth
API_PREFIX=/api/v1

# Timeout de requisições (ms)
# 30 segundos = 30000ms
REQUEST_TIMEOUT=30000

# Habilitar modo de manutenção?
# true: API retorna 503 (Service Unavailable) para todas as requisições
# false: Operação normal
MAINTENANCE_MODE=false

# ==============================================================================
# INSTRUÇÕES DE USO
# ==============================================================================

# 1. Copie este arquivo para .env:
#    cp .env.example .env
#
# 2. Preencha todas as variáveis com valores reais
#
# 3. NUNCA commite o arquivo .env no Git!
#    O .gitignore já está configurado para ignorá-lo
#
# 4. Para gerar JWT_SECRET seguro, execute:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 5. Certifique-se de criar o banco de dados antes de executar as migrations:
#    mysql -u root -p
#    CREATE DATABASE secretaria_online CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
#
# 6. Execute as migrations para criar as tabelas:
#    npm run migrate
#
# 7. Execute os seeders para popular dados iniciais (usuário admin):
#    npm run seed
#
# ==============================================================================
